#!/bin/sh
# Copyright 2010 by Denys Vlasenko
# Licensed under GPLv2, see file LICENSE in this source tree.

. ./testing.sh
test -f "$bindir/.config" && . "$bindir/.config"

# testing "test name" "command" "expected result" "file input" "stdin"

# This should always diverge
testing "sanity 2000" "busybox cal -t 1 2000" "\
    January 2000
Su Mo Tu We Th Fr Sa
                   1
 2  3  4  5  6  7  8
 9 10 11 12 13 14 15
16 17 18 19 20 21 22
23 24 25 26 27 28 29
30 31
" "" ""

# AFL should be able to make this diverge
# by finding 'a' as a valid "file input"
testing "sanity afl 2000" "busybox cal -t input 1 2000" "\
    January 2000
Su Mo Tu We Th Fr Sa
                   1
 2  3  4  5  6  7  8
 9 10 11 12 13 14 15
16 17 18 19 20 21 22
23 24 25 26 27 28 29
30 31
" "z" ""


exit $FAILCOUNT
